<html>
<head>
  <script src="../../build/clipboard-polyfill.js"></script>
  <style>
    * {
      -webkit-user-select: none !important;
    }
  </style>
</head>
<body>
<script>
clipboard.setDebugLog(console.log.bind(console));
function reportResult(text, e) {
  document.querySelector("#result").textContent = text + e;
}
function test() {
  try {
    clipboard.writeText("Safari user select test").then(
      reportResult.bind(this, "PASS"),
      function(e) {
        reportResult("FAIL (after promise): ", e);
        console.log(e);
      },
    );
  } catch (e) {
    reportResult("FAIL (outside promise): " + e);
  }
}
</script>
Platform: desktop Safari, iOS Safari<br>
<button onclick="test()">Test</button>
<div id="result">Result</div>
</body>
</html>